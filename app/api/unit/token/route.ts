import { NextResponse } from "next/server"

// Temporary admin token until jose package is installed
const UNIT_ADMIN_TOKEN = "v2.public.eyJyb2xlIjoiYWRtaW4iLCJyb2xlcyI6WyJhZG1pbiJdLCJ1c2VySWQiOiI0NzE3NSIsInN1YiI6InJ5YW5AY29va2luLmlvIiwiZXhwIjoiMjAyNy0wMS0yOFQyMDoxMzoyNC43MDlaIiwianRpIjoiNTc2NTI4Iiwib3JnSWQiOiI4OTYwIiwic2NvcGUiOiJhcHBsaWNhdGlvbnMgYXBwbGljYXRpb25zLXdyaXRlIGN1c3RvbWVycyBjdXN0b21lcnMtd3JpdGUgY3VzdG9tZXItdGFncy13cml0ZSBjdXN0b21lci10b2tlbi13cml0ZSBhY2NvdW50cyBhY2NvdW50cy13cml0ZSBhY2NvdW50LWhvbGRzIGFjY291bnQtaG9sZHMtd3JpdGUgY2FyZHMgY2FyZHMtd3JpdGUgY2FyZHMtc2Vuc2l0aXZlIGNhcmRzLXNlbnNpdGl2ZS13cml0ZSB0cmFuc2FjdGlvbnMgdHJhbnNhY3Rpb25zLXdyaXRlIGF1dGhvcml6YXRpb25zIHN0YXRlbWVudHMgcGF5bWVudHMgcGF5bWVudHMtd3JpdGUgcGF5bWVudHMtd3JpdGUtY291bnRlcnBhcnR5IHBheW1lbnRzLXdyaXRlLWxpbmtlZC1hY2NvdW50IGFjaC1wYXltZW50cy13cml0ZSB3aXJlLXBheW1lbnRzLXdyaXRlIHJlcGF5bWVudHMgcGF5bWVudHMtd3JpdGUtYWNoLWRlYml0IGNvdW50ZXJwYXJ0aWVzIGNvdW50ZXJwYXJ0aWVzLXdyaXRlIGJhdGNoLXJlbGVhc2VzIGJhdGNoLXJlbGVhc2VzLXdyaXRlIGxpbmtlZC1hY2NvdW50cyBsaW5rZWQtYWNjb3VudHMtd3JpdGUgd2ViaG9va3Mgd2ViaG9va3Mtd3JpdGUgZXZlbnRzIGV2ZW50cy13cml0ZSBhdXRob3JpemF0aW9uLXJlcXVlc3RzIGF1dGhvcml6YXRpb24tcmVxdWVzdHMtd3JpdGUgY2FzaC1kZXBvc2l0cyBjYXNoLWRlcG9zaXRzLXdyaXRlIGNoZWNrLWRlcG9zaXRzIGNoZWNrLWRlcG9zaXRzLXdyaXRlIHJlY2VpdmVkLXBheW1lbnRzIHJlY2VpdmVkLXBheW1lbnRzLXdyaXRlIGRpc3B1dGVzIGNoYXJnZWJhY2tzIGNoYXJnZWJhY2tzLXdyaXRlIHJld2FyZHMgcmV3YXJkcy13cml0ZSBjaGVjay1wYXltZW50cyBjaGVjay1wYXltZW50cy13cml0ZSBjcmVkaXQtZGVjaXNpb25zIGNyZWRpdC1kZWNpc2lvbnMtd3JpdGUgbGVuZGluZy1wcm9ncmFtcyBsZW5kaW5nLXByb2dyYW1zLXdyaXRlIGNhcmQtZnJhdWQtY2FzZXMgY2FyZC1mcmF1ZC1jYXNlcy13cml0ZSBjcmVkaXQtYXBwbGljYXRpb25zIGNyZWRpdC1hcHBsaWNhdGlvbnMtd3JpdGUgbWlncmF0aW9ucyBtaWdyYXRpb25zLXdyaXRlIHRheCB0YXgtd3JpdGUgZm9ybXMgZm9ybXMtd3JpdGUgZm9ybXMtc2Vuc2l0aXZlIHdpcmUtZHJhd2Rvd25zIHdpcmUtZHJhd2Rvd25zLXdyaXRlIiwib3JnIjoiU2FpbnQgVmlzaW9uIFRlY2hub2xvZ2llcyBMTEMiLCJzb3VyY2VJcCI6IiIsInVzZXJUeXBlIjoib3JnIiwiaXNVbml0UGlsb3QiOmZhbHNlLCJpc1BhcmVudE9yZyI6ZmFsc2V9O4-mDM-eG-Cg1jrf4OhT71DAjvD-OOI7-evIWLFkaT3oVYs9-Jd4q88tggnuADydGncOE12eG8AxUE4g7NPjBA"

export async function GET() {
  try {
    console.log("[v0] Returning Unit.co admin token")
    
    // Return the admin token for now
    // TODO: Once jose package is installed, switch to user-specific tokens
    return NextResponse.json({ token: UNIT_ADMIN_TOKEN })
  } catch (error) {
    console.error("[v0] Error fetching Unit.co token:", error)
    return NextResponse.json(
      { error: "Failed to fetch token" },
      { status: 500 }
    )
  }
}
